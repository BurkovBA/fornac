<!DOCTYPE html>
<meta charset="utf-8">
<link rel='stylesheet' type='text/css' href='css/fornac.css' />
This is an RNA container.

<div id='rna_ss'> </div>

This after the RNA container.

    <script type='text/javascript' src='js/jquery.js'></script> 
    <script type='text/javascript' src='js/d3.js'></script>                                                                
    <script type='text/javascript' src='js/fornac.js'></script>                                                            
    <script type='text/javascript' src='src/fornaf.js'></script>                                                            

    <script type='text/javascript'>                                                                                         
var container = new FornaContainer("#rna_ss", {'applyForce': false, 'allowPanningAndZooming': true}); 

/*
rna1 = container.addRNA('...............');
container.transitionRNA(rna1, '(.............)')
*/
r = new RNAGraph('', '...', '');
console.log(simple_xy_coordinates(r.pairtable).map( function(e) { return e[0] + " " + e[1]; } ))
r = new RNAGraph('', '(.)', '');
console.log(simple_xy_coordinates(r.pairtable).map( function(e) { return e[0] + " " + e[1]; } ))

rna1 = container.addRNA('...', {"avoidOthers": false});

//var structs = ['(.).', '(.)..', '(.)...', '(.)....', '(.).....', '(.).(..)'] //, '(.)...']
var structs = ['(.).', '(.)']
var funcs = []

for (i = 0; i < structs.reverse().length; i++) {
    if (funcs.length === 0) 
        (function(val) { funcs.push(function() { console.log('here', val, structs[val]); container.transitionRNA(structs[val]) })} )(i);
    else
        (function(val, prevFunc) { funcs.push(function() { console.log('here', val, structs[val]); container.transitionRNA(structs[val], prevFunc) })} )(i, funcs[funcs.length-1] );
}

console.log('funcs', funcs);

funcs[funcs.length-1]();

//container.transitionRNA('(.).', function() { console.log('newFunction called'); container.transitionRNA('(.)..') } );
//container.transitionRNA(rna1, '(.)');

//rna1 = container.addRNA('(((((.)))..(((..((...)))))...))', {"avoidOthers": false});

//rna2 = container.addRNA('(.)');

//newRNA = container.transitionTo('...............')

</script>
